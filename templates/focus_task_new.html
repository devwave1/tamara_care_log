{% extends "header.html" %}

{% block content %}
<div class="container mt-4" style="max-width:720px;">
  <h4>Create Focused Task</h4>
  <form method="post" class="mt-3">
    <label class="form-label">Title</label>
    <input name="title" class="form-control" required>

    <label class="form-label mt-2">Short Code (optional)</label>
    <input name="short_code" class="form-control" placeholder="TOILET">

    <label class="form-label mt-2">Description</label>
    <textarea name="description" class="form-control" rows="3"></textarea>

    <label class="form-label mt-2">Status</label>
    <select name="status" class="form-control">
      <option value="active">active</option>
      <option value="paused">paused</option>
      <option value="done">done</option>
    </select>

    <div class="row mt-2">
      <div class="col">
        <label class="form-label">Focus Start</label>
        <input type="date" name="focus_start" class="form-control">
      </div>
      <div class="col">
        <label class="form-label">Focus End</label>
        <input type="date" name="focus_end" class="form-control">
      </div>
    </div>

    <div class="mt-3 p-3 border rounded">
      <label class="form-label"><strong>Auto-Capture Activities (optional)</strong></label>
      <p class="text-muted small mb-2">Select activities that should automatically be associated with this focused task during the time window. If selected, any logs with these activities will automatically be added to this focus.</p>
      <div class="border rounded p-3 bg-light" style="max-height: 300px; overflow-y: auto;">
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_toilet" value="Toilet Tries">
          <label class="form-check-label" for="auto_cap_toilet">Toilet Tries</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_accidents" value="Accidents">
          <label class="form-check-label" for="auto_cap_accidents">Accidents</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_fluid" value="Fluid Intake">
          <label class="form-check-label" for="auto_cap_fluid">Fluid Intake</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_food" value="Food">
          <label class="form-check-label" for="auto_cap_food">Food</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_comm" value="Communication Level">
          <label class="form-check-label" for="auto_cap_comm">Communication Level</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_mood" value="Mood">
          <label class="form-check-label" for="auto_cap_mood">Mood</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_sleep" value="Sleep Quality">
          <label class="form-check-label" for="auto_cap_sleep">Sleep Quality</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_meltdowns" value="Meltdowns">
          <label class="form-check-label" for="auto_cap_meltdowns">Meltdowns</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_exercise" value="Exercise / Physical Activity">
          <label class="form-check-label" for="auto_cap_exercise">Exercise / Physical Activity</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="auto_capture_activities" id="auto_cap_health" value="Health / Medical">
          <label class="form-check-label" for="auto_cap_health">Health / Medical</label>
        </div>
      </div>
    </div>

    <button class="btn btn-primary mt-3">Create</button>
    <a href="{{ url_for('focus_tasks') }}" class="btn btn-link mt-3">Cancel</a>
  </form>
</div>
{% endblock %}
